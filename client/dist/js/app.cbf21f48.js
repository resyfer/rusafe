(function(e){function t(t){for(var r,c,o=t[0],s=t[1],u=t[2],d=0,b=[];d<o.length;d++)c=o[d],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&b.push(a[c][0]),a[c]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);l&&l(t);while(b.length)b.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,o=1;o<n.length;o++){var s=n[o];0!==a[s]&&(r=!1)}r&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={app:0},i=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=s;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0691":function(e,t,n){"use strict";n("91e9")},"18ee":function(e,t,n){"use strict";n("e397")},"1dc0":function(e,t,n){},"2d63":function(e,t,n){},"2dd8":function(e,t,n){},3830:function(e,t,n){},3992:function(e,t,n){},"3ecf":function(e,t,n){},"4ab1":function(e,t,n){"use strict";n("cd3c")},5689:function(e,t,n){"use strict";n("b9c4")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),a=n("365c"),i=n("957f"),c=n("f685"),o=n("6c02"),s=n("cf05"),u=n.n(s),l={class:"home"},d=Object(r["g"])("div",{class:"logo"},[Object(r["g"])("img",{src:u.a,alt:"Rusafe Logo"})],-1),b=Object(r["g"])("div",{class:"title"},[Object(r["g"])("h1",null,"Rusafe"),Object(r["g"])("h2",null,"An e-wallet to easily and securely transfer funds")],-1),O={class:"auth"},p=Object(r["h"])("Login"),j=Object(r["h"])(" Sign Up ");function f(e,t,n,a,i,c){var o=Object(r["C"])("router-link");return Object(r["x"])(),Object(r["f"])("div",l,[d,b,Object(r["g"])("div",O,[Object(r["i"])(o,{to:"/login",class:"auth-itm",id:"login"},{default:Object(r["I"])((function(){return[p]})),_:1}),Object(r["i"])(o,{to:"/signup",class:"auth-itm",id:"signup"},{default:Object(r["I"])((function(){return[j]})),_:1})])])}var g={name:"Home",setup:function(){document.title="Rusafe"}},m=(n("0691"),n("6b0d")),v=n.n(m);const y=v()(g,[["render",f]]);var h=y,w={class:"login"},P=Object(r["g"])("div",{class:"title"},"Login",-1),x={class:"login-form"},S={key:0,class:"error"},$=Object(r["h"])(" Not verified ? Verify OTP "),k=Object(r["h"])(" New here? Sign Up "),V=Object(r["h"])(" Forgot Password? ");function I(e,t,n,a,i,c){var o=Object(r["C"])("router-link");return Object(r["x"])(),Object(r["f"])("div",w,[P,Object(r["g"])("div",x,[a.authData.error?(Object(r["x"])(),Object(r["f"])("div",S,Object(r["E"])(a.authData.error),1)):Object(r["e"])("",!0),Object(r["g"])("form",null,[Object(r["J"])(Object(r["g"])("input",{type:"text",placeholder:"Username / Email*","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.credentials.identifier=e})},null,512),[[r["G"],a.credentials.identifier]]),Object(r["J"])(Object(r["g"])("input",{type:"password",placeholder:"Password*","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.credentials.password=e})},null,512),[[r["G"],a.credentials.password]]),Object(r["g"])("button",Object(r["o"])({type:"submit"},{disabled:!a.validLogin},{onClick:t[2]||(t[2]=Object(r["K"])((function(e){return a.login({identifier:a.credentials.identifier,password:a.credentials.password})}),["prevent"]))})," Submit ",16)]),"User not verified. Please verify your OTP"===a.authData.error?(Object(r["x"])(),Object(r["d"])(o,{key:1,class:"sign-up login-links",to:{name:"Otp Verify",params:{identifier:a.credentials.identifier}}},{default:Object(r["I"])((function(){return[$]})),_:1},8,["to"])):Object(r["e"])("",!0),Object(r["i"])(o,{class:"sign-up login-links",to:"/signup"},{default:Object(r["I"])((function(){return[k]})),_:1}),"Incorrect Password"===a.authData.error?(Object(r["x"])(),Object(r["d"])(o,{key:2,class:"forgot-password login-links",to:"/forgot-password"},{default:Object(r["I"])((function(){return[V]})),_:1})):Object(r["e"])("",!0)])])}var L,_=n("8785"),N=n("5502"),E=n("5184"),U=n("852e"),C=n.n(U),D=/^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{8,100}$/,T={name:"Login",setup:function(){document.title="Login | Rusafe";var e=Object(N["b"])();e.state.isLoggedIn&&Xt.push("/profile");var t=Object(r["z"])({identifier:"",password:""}),n=Object(r["b"])((function(){return""!==t.identifier&&D.test(t.password)})),a=Object(r["A"])({jwt:null,error:null}),i=Object(c["b"])(Object(E["a"])(L||(L=Object(_["a"])(["\n        mutation login($identifier: String!, $password: String!) {\n          login(identifier: $identifier, password: $password) {\n            jwt\n            user {\n              _id\n              name\n              username\n              img\n              balance\n              phone\n            }\n            error\n          }\n        }\n      "]))),{update:function(t,n){n.data.login.error?a.value.error=n.data.login.error:(a.value=n.data.login,n.data.login.jwt&&(C.a.set("jwt",n.data.login.jwt,{expires:365}),e.commit("userLoggedIn",n.data.login.user),location.reload()))}}),o=i.mutate;return{credentials:t,login:o,validLogin:n,authData:a}}};n("5847");const z=v()(T,[["render",I]]);var J,A=z,R=(n("b0c0"),{class:"login"}),G=Object(r["g"])("div",{class:"title"},"Sign Up",-1),q={class:"login-form"},F={key:0,class:"error"},H=Object(r["h"])(" Already registered? Login "),K=Object(r["g"])("div",{class:"password-rules",to:"/login"}," Password must have atleast 8 characters, a special symbol and a number ",-1);function Z(e,t,n,a,i,c){var o=Object(r["C"])("router-link");return Object(r["x"])(),Object(r["f"])("div",R,[G,Object(r["g"])("div",q,[a.authData.error?(Object(r["x"])(),Object(r["f"])("div",F,Object(r["E"])(a.authData.error),1)):Object(r["e"])("",!0),Object(r["g"])("form",null,[Object(r["J"])(Object(r["g"])("input",{type:"text",required:"",placeholder:"Name*","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.credentials.name=e})},null,512),[[r["G"],a.credentials.name,void 0,{trim:!0}]]),Object(r["J"])(Object(r["g"])("input",{type:"text",required:"",placeholder:"Username*","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.credentials.username=e})},null,512),[[r["G"],a.credentials.username,void 0,{trim:!0}]]),Object(r["J"])(Object(r["g"])("input",{type:"text",required:"",placeholder:"Email*","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.credentials.email=e})},null,512),[[r["G"],a.credentials.email,void 0,{trim:!0}]]),Object(r["J"])(Object(r["g"])("input",{type:"password",required:"",placeholder:"Password*","onUpdate:modelValue":t[3]||(t[3]=function(e){return a.credentials.password=e})},null,512),[[r["G"],a.credentials.password]]),Object(r["J"])(Object(r["g"])("input",{type:"text",placeholder:"Profile Picture Link (Optional)","onUpdate:modelValue":t[4]||(t[4]=function(e){return a.credentials.img=e})},null,512),[[r["G"],a.credentials.img,void 0,{trim:!0}]]),Object(r["J"])(Object(r["g"])("input",{type:"tel",placeholder:"Phone Number (Without Region Codes)*","onUpdate:modelValue":t[5]||(t[5]=function(e){return a.credentials.phone=e})},null,512),[[r["G"],a.credentials.phone,void 0,{number:!0}]]),Object(r["g"])("button",Object(r["o"])({type:"submit"},{disabled:!a.validSignup},{onClick:t[6]||(t[6]=Object(r["K"])((function(e){return a.signup({name:a.credentials.name,username:a.credentials.username,email:a.credentials.email,password:a.credentials.password,img:""===a.credentials.img?"https://avatars.dicebear.com/api/identicon/".concat(a.credentials.username,".svg"):a.credentials.img,phone:a.credentials.phone})}),["prevent"]))})," Submit ",16)]),Object(r["i"])(o,{class:"signup-links",to:"/login"},{default:Object(r["I"])((function(){return[H]})),_:1}),K])])}var M=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,B=/^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{8,100}$/,W=/^[0-9]{10}$/,Q={name:"Login",setup:function(){document.title="Sign Up | Rusafe",C.a.get("jwt")&&Xt.push("/profile");var e=Object(r["z"])({name:"",username:"",email:"",password:"",dob:[],img:"",phone:null}),t=Object(r["b"])((function(){return""!==e.name&&""!==e.username&&M.test(e.email)&&B.test(e.password)&&W.test(e.phone)})),n=Object(r["A"])({error:null}),a=Object(c["b"])(Object(E["a"])(J||(J=Object(_["a"])(["\n        mutation signup(\n          $name: String!\n          $username: String!\n          $email: String!\n          $password: String!\n          $img: String!\n          $phone: Float!\n        ) {\n          signup(\n            name: $name\n            username: $username\n            email: $email\n            password: $password\n            img: $img\n            phone: $phone\n          ) {\n            error\n          }\n        }\n      "]))),{update:function(t,r){r.data.signup.error?n.value.error=r.data.signup.error:Xt.push({name:"Otp Verify",params:{identifier:e.username}})}}),i=a.mutate;return{credentials:e,signup:i,validSignup:t,authData:n}}};n("e768");const X=v()(Q,[["render",Z]]);var Y=X,ee=(n("fb6a"),{key:0,class:"profile"}),te={class:"left profile-info"},ne={class:"pfp"},re=["src","alt"],ae={class:"user"},ie={class:"name"},ce={class:"username"},oe={class:"email"},se=Object(r["g"])("div",{class:"divider"},null,-1),ue={class:"right profile-info"},le={class:"balance"},de=Object(r["g"])("div",{class:"ruppee"},"₹",-1),be={class:"amount"},Oe={class:"past-transactions-container"},pe=Object(r["g"])("div",{class:"title"},"Recent Transactions",-1),je={class:"past-transactions"},fe=["onClick"],ge={class:"party"},me={class:"name"},ve={class:"quantity"},ye={class:"icon"},he={key:0,class:"deposit fas fa-sort-up"},we={key:1,class:"withdrawal fas fa-sort-down"};function Pe(e,t,n,a,i,c){var o=Object(r["C"])("Navbar");return Object(r["x"])(),Object(r["f"])(r["a"],null,[Object(r["i"])(o),a.store.state.isLoggedIn?(Object(r["x"])(),Object(r["f"])("main",ee,[Object(r["g"])("div",te,[Object(r["g"])("div",ne,[Object(r["g"])("img",{src:a.store.state.user.img,alt:a.store.state.user.name},null,8,re)]),Object(r["g"])("div",ae,[Object(r["g"])("div",ie,Object(r["E"])(a.store.state.user.name),1),Object(r["g"])("div",ce,Object(r["E"])(a.store.state.user.username),1),Object(r["g"])("div",oe,Object(r["E"])(a.store.state.user.email),1)])]),se,Object(r["g"])("div",ue,[Object(r["g"])("div",le,[de,Object(r["g"])("div",be,Object(r["E"])(new Intl.NumberFormat("en-IN").format(a.store.state.user.balance)),1)]),Object(r["g"])("div",Oe,[pe,Object(r["g"])("div",je,[(Object(r["x"])(!0),Object(r["f"])(r["a"],null,Object(r["B"])(a.store.state.user.transactions.slice(0,10),(function(e){return Object(r["x"])(),Object(r["f"])("div",{class:"transaction",key:e._id,onClick:function(t){return a.router.push("/transaction/".concat(e._id))}},[Object(r["g"])("div",ge,[Object(r["g"])("div",me,Object(r["E"])(e.party.name)+" ("+Object(r["E"])(e.party.username)+") ",1)]),Object(r["g"])("div",ve,[Object(r["g"])("div",ye,["deposit"==e.category?(Object(r["x"])(),Object(r["f"])("i",he)):Object(r["e"])("",!0),"withdrawal"==e.category?(Object(r["x"])(),Object(r["f"])("i",we)):Object(r["e"])("",!0)]),Object(r["g"])("div",{class:Object(r["q"])(["amount",{deposit:"deposit"==e.category,withdrawal:"withdrawal"==e.category}])}," ₹ "+Object(r["E"])(new Intl.NumberFormat("en-IN").format(e.amount)),3)])],8,fe)})),128))])])])])):Object(r["e"])("",!0)],64)}var xe={class:"navbar"},Se={class:"logo"},$e=Object(r["g"])("img",{src:u.a,alt:"Logo"},null,-1),ke={class:"nav-itm-ctnr"},Ve=Object(r["h"])("Home"),Ie=Object(r["h"])("Pay"),Le=Object(r["h"])("History"),_e={key:0,class:"avatar"},Ne=["src","alt"],Ee={class:"name"},Ue={class:"dropdown"};function Ce(e,t,n,a,i,c){var o=Object(r["C"])("router-link");return Object(r["x"])(),Object(r["f"])("div",xe,[Object(r["g"])("div",Se,[Object(r["i"])(o,{to:"/profile"},{default:Object(r["I"])((function(){return[$e]})),_:1})]),Object(r["g"])("div",ke,[Object(r["i"])(o,{class:"nav-itm",to:"/profile"},{default:Object(r["I"])((function(){return[Ve]})),_:1}),Object(r["i"])(o,{class:"nav-itm",to:"/pay"},{default:Object(r["I"])((function(){return[Ie]})),_:1}),Object(r["i"])(o,{class:"nav-itm",to:"/history"},{default:Object(r["I"])((function(){return[Le]})),_:1})]),a.store.state.user?(Object(r["x"])(),Object(r["f"])("div",_e,[Object(r["g"])("img",{src:a.store.state.user.img,alt:a.store.state.user},null,8,Ne),Object(r["g"])("div",Ee,Object(r["E"])(a.store.state.user.username),1),Object(r["g"])("div",Ue,[Object(r["g"])("div",{class:"logout",onClick:t[0]||(t[0]=function(){return a.logOut&&a.logOut.apply(a,arguments)})},"Logout")])])):Object(r["e"])("",!0)])}var De={name:"Navbar",setup:function(){var e=Object(N["b"])(),t=function(){e.commit("userLoggedOut"),C.a.set("jwt","",{expires:0}),Xt.push("/")};return{logOut:t,store:e}}};n("18ee");const Te=v()(De,[["render",Ce]]);var ze=Te,Je={name:"Profile",components:{Navbar:ze},setup:function(){var e=Object(N["b"])();return Object(r["u"])((function(){e.state.isLoggedIn?document.title="".concat(e.state.user.username," | Profile - Rusafe"):Xt.push("/")})),{store:e,router:Xt}}};n("722e");const Ae=v()(Je,[["render",Pe]]);var Re=Ae,Ge={class:"history"},qe=Object(r["g"])("div",{class:"title"},"History",-1),Fe={class:"transactions"},He=["onClick"],Ke={class:"party"},Ze={class:"name"},Me={class:"quantity"},Be={class:"icon"},We={key:0,class:"deposit fas fa-sort-up"},Qe={key:1,class:"withdrawal fas fa-sort-down"};function Xe(e,t,n,a,i,c){var o=Object(r["C"])("Navbar");return Object(r["x"])(),Object(r["f"])(r["a"],null,[Object(r["i"])(o),Object(r["g"])("main",Ge,[qe,Object(r["g"])("div",Fe,[(Object(r["x"])(!0),Object(r["f"])(r["a"],null,Object(r["B"])(a.store.state.user.transactions,(function(e){return Object(r["x"])(),Object(r["f"])("div",{class:"transaction",key:e._id,onClick:function(t){return a.router.push("/transaction/".concat(e._id))}},[Object(r["g"])("div",Ke,[Object(r["g"])("div",Ze,Object(r["E"])(e.party.name)+" ("+Object(r["E"])(e.party.username)+") ",1)]),Object(r["g"])("div",Me,[Object(r["g"])("div",Be,["deposit"==e.category?(Object(r["x"])(),Object(r["f"])("i",We)):Object(r["e"])("",!0),"withdrawal"==e.category?(Object(r["x"])(),Object(r["f"])("i",Qe)):Object(r["e"])("",!0)]),Object(r["g"])("div",{class:Object(r["q"])(["amount",{deposit:"deposit"==e.category,withdrawal:"withdrawal"==e.category}])}," ₹ "+Object(r["E"])(new Intl.NumberFormat("en-IN").format(e.amount)),3)])],8,He)})),128))])])],64)}var Ye={name:"History",components:{Navbar:ze},setup:function(){var e=Object(N["b"])();return Object(r["u"])((function(){e.state.isLoggedIn?document.title="".concat(e.state.user.username," | History - Rusafe"):Xt.push("/")})),{store:e,router:Xt}}};n("8059");const et=v()(Ye,[["render",Xe]]);var tt,nt=et,rt={class:"pay"},at={key:0,class:"payment-successful"},it=Object(r["h"])(" Payment Successful! "),ct=Object(r["g"])("div",{class:"title"},"Pay",-1),ot={class:"login-form"},st={key:0,class:"error"};function ut(e,t,n,a,i,c){var o=Object(r["C"])("Navbar");return Object(r["x"])(),Object(r["f"])(r["a"],null,[Object(r["i"])(o),Object(r["g"])("main",rt,[a.toggleSuccessDisplay?(Object(r["x"])(),Object(r["f"])("div",at,[Object(r["g"])("i",{class:"fas fa-times",onClick:t[0]||(t[0]=function(e){return a.reload()})}),it])):Object(r["e"])("",!0),ct,Object(r["g"])("div",ot,[a.paymentSuccess.error?(Object(r["x"])(),Object(r["f"])("div",st,Object(r["E"])(a.paymentSuccess.error),1)):Object(r["e"])("",!0),Object(r["g"])("form",null,[Object(r["J"])(Object(r["g"])("input",{type:"text",placeholder:"Username / Email of Payee*","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.transaction.payee=e})},null,512),[[r["G"],a.transaction.payee]]),Object(r["J"])(Object(r["g"])("input",{type:"number",placeholder:"Amount in ₹*",step:"0.1","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.transaction.amount=e})},null,512),[[r["G"],a.transaction.amount,void 0,{number:!0}]]),Object(r["g"])("button",Object(r["o"])({type:"submit"},{disabled:!a.validTransaction},{onClick:t[3]||(t[3]=Object(r["K"])((function(e){return a.pay({payer:a.store.state.user.username,payee:a.transaction.payee,amount:a.transaction.amount})}),["prevent"]))})," Submit ",16)])])])],64)}var lt={name:"Pay",components:{Navbar:ze},setup:function(){var e=Object(N["b"])();Object(r["u"])((function(){e.state.isLoggedIn?document.title="".concat(e.state.user.username," | Pay - Rusafe"):Xt.push("/")}));var t=Object(r["z"])({error:null}),n=Object(r["z"])({payee:"",amount:null}),a=Object(r["b"])((function(){return""!=n.payee&&n.payee!=e.state.user.username&&n.payee!=e.state.user.email&&n.amount})),i=Object(c["b"])(Object(E["a"])(tt||(tt=Object(_["a"])(["\n        mutation pay($payer: String!, $payee: String!, $amount: Float!) {\n          transaction(payer: $payer, payee: $payee, amount: $amount) {\n            error\n          }\n        }\n      "]))),{update:function(e,n){console.log(n.data),n.data.transaction.error?t.error=n.data.transaction.error:s.value=!0}}),o=i.mutate,s=Object(r["A"])(!1),u=function(){location.reload()};return{store:e,paymentSuccess:t,transaction:n,pay:o,reload:u,toggleSuccessDisplay:s,validTransaction:a}}};n("bed4");const dt=v()(lt,[["render",ut]]);var bt,Ot=dt,pt={class:"verify-otp"},jt=Object(r["g"])("div",{class:"title"},"Verify OTP",-1),ft=Object(r["g"])("div",{class:"otp-help"}," An OTP was sent to your email account. Please verify your OTP ",-1),gt={key:0,class:"error"},mt=Object(r["h"])(" Expired OTP? Request New ");function vt(e,t,n,a,i,c){var o=Object(r["C"])("router-link");return Object(r["x"])(),Object(r["f"])("div",pt,[jt,ft,a.authDetails.error?(Object(r["x"])(),Object(r["f"])("div",gt,Object(r["E"])(a.authDetails.error),1)):Object(r["e"])("",!0),Object(r["g"])("form",null,[Object(r["J"])(Object(r["g"])("input",{type:"text",placeholder:"OTP","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.credentials.otp=e})},null,512),[[r["G"],a.credentials.otp,void 0,{trim:!0}]]),Object(r["g"])("button",Object(r["o"])({type:"submit"},{disabled:!a.validOtp},{onClick:t[1]||(t[1]=Object(r["K"])((function(e){return a.verifyOtp({identifier:a.credentials.identifier,otp:a.credentials.otp})}),["prevent"]))})," Verify ",16)]),"OTP Expired. Please request a new OTP"===a.authDetails.error?(Object(r["x"])(),Object(r["d"])(o,{key:1,class:"new-otp",to:"/new-otp"},{default:Object(r["I"])((function(){return[mt]})),_:1})):Object(r["e"])("",!0)])}var yt={name:"OtpVerify",setup:function(){var e=Object(o["c"])(),t=Object(N["b"])();document.title="Verify OTP | Rusafe",C.a.get("jwt")&&Xt.push("/profile");var n=Object(r["z"])({identifier:e.params.identifier,otp:""}),a=Object(r["z"])({error:null}),i=Object(c["b"])(Object(E["a"])(bt||(bt=Object(_["a"])(["\n        mutation verifyOtp($identifier: String!, $otp: String!) {\n          otpVerify(identifier: $identifier, otp: $otp) {\n            jwt\n            user {\n              _id\n              name\n              username\n              img\n              balance\n              phone\n            }\n            error\n          }\n        }\n      "]))),{update:function(e,n){n.data.otpVerify.error?a.error=n.data.otpVerify.error:(t.commit("userLoggedIn",n.data.otpVerify.user),C.a.set("jwt",n.data.otpVerify.jwt,{expires:365}),location.reload())}}),s=i.mutate,u=Object(r["b"])((function(){return""!==n.identifier&&8===n.otp.length}));return{credentials:n,verifyOtp:s,authDetails:a,validOtp:u}}};n("fd9b");const ht=v()(yt,[["render",vt]]);var wt,Pt=ht,xt={class:"new-otp"},St=Object(r["g"])("div",{class:"title"},"New OTP",-1),$t={key:0,class:"error"};function kt(e,t,n,a,i,c){return Object(r["x"])(),Object(r["f"])("div",xt,[St,a.authDetails.error?(Object(r["x"])(),Object(r["f"])("div",$t,Object(r["E"])(a.authDetails.error),1)):Object(r["e"])("",!0),Object(r["g"])("form",null,[Object(r["J"])(Object(r["g"])("input",{type:"text",placeholder:"Username / Email","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.credentials.identifier=e})},null,512),[[r["G"],a.credentials.identifier,void 0,{trim:!0}]]),Object(r["g"])("button",{type:"submit",onClick:t[1]||(t[1]=Object(r["K"])((function(e){return a.newOtp({identifier:a.credentials.identifier})}),["prevent"]))}," Request OTP ")])])}var Vt={name:"NewOtp",setup:function(){document.title="New OTP | Rusafe",C.a.get("jwt")&&Xt.push("/profile");var e=Object(r["z"])({identifier:""}),t=Object(r["z"])({error:""});Object(r["H"])(t,(function(){null==t.error&&Xt.push("/otp-verify/".concat(e.identifier))}));var n=Object(c["b"])(Object(E["a"])(wt||(wt=Object(_["a"])(["\n        mutation newOtp($identifier: String!) {\n          newOtp(identifier: $identifier) {\n            error\n          }\n        }\n      "]))),{update:function(e,n){t.error=n.data.newOtp.error}}),a=n.mutate;return{credentials:e,authDetails:t,newOtp:a}}};n("86c2");const It=v()(Vt,[["render",kt]]);var Lt,_t=It,Nt={class:"forgot-password"},Et=Object(r["g"])("div",{class:"title"},"Forgot Password",-1),Ut={key:0,class:"error"},Ct=Object(r["h"])(" Verify OTP ");function Dt(e,t,n,a,i,c){var o=Object(r["C"])("router-link");return Object(r["x"])(),Object(r["f"])("div",Nt,[Et,a.authDetails.error?(Object(r["x"])(),Object(r["f"])("div",Ut,Object(r["E"])(a.authDetails.error),1)):Object(r["e"])("",!0),Object(r["g"])("form",null,[Object(r["J"])(Object(r["g"])("input",{type:"text",placeholder:"Username / Email","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.credentials.identifier=e})},null,512),[[r["G"],a.credentials.identifier,void 0,{trim:!0}]]),Object(r["g"])("button",{type:"submit",onClick:t[1]||(t[1]=Object(r["K"])((function(e){return a.generateString({identifier:a.credentials.identifier})}),["prevent"]))}," Forgot Password ")]),"Verify OTP first"===a.authDetails.error?(Object(r["x"])(),Object(r["d"])(o,{key:1,class:"forgot-password-help",to:"/otp-verify/".concat(a.credentials.identifier)},{default:Object(r["I"])((function(){return[Ct]})),_:1},8,["to"])):Object(r["e"])("",!0)])}var Tt={name:"ForgotPassword",setup:function(){document.title="Forgot Password | Rusafe",C.a.get("jwt")&&Xt.push("/profile");var e=Object(r["z"])({identifier:""}),t=Object(r["z"])({error:""});Object(r["H"])(t,(function(){null==t.error&&Xt.push("/auth-verify/".concat(e.identifier))}));var n=Object(c["b"])(Object(E["a"])(Lt||(Lt=Object(_["a"])(["\n        mutation generate($identifier: String!) {\n          generateString(identifier: $identifier) {\n            error\n          }\n        }\n      "]))),{update:function(e,n){t.error=n.data.generateString.error}}),a=n.mutate;return{credentials:e,authDetails:t,generateString:a}}};n("7374");const zt=v()(Tt,[["render",Dt]]);var Jt,At=zt,Rt={class:"auth-verify"},Gt=Object(r["g"])("div",{class:"title"},"New Password",-1),qt={key:0,class:"error"};function Ft(e,t,n,a,i,c){return Object(r["x"])(),Object(r["f"])("div",Rt,[Gt,a.authDetails.error?(Object(r["x"])(),Object(r["f"])("div",qt,Object(r["E"])(a.authDetails.error),1)):Object(r["e"])("",!0),Object(r["g"])("form",null,[Object(r["J"])(Object(r["g"])("input",{type:"text",placeholder:"Auth String*","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.credentials.authString=e})},null,512),[[r["G"],a.credentials.authString,void 0,{trim:!0}]]),Object(r["J"])(Object(r["g"])("input",{type:"password",placeholder:"New Password*","onUpdate:modelValue":t[1]||(t[1]=function(e){return a.credentials.newPassword=e})},null,512),[[r["G"],a.credentials.newPassword]]),Object(r["g"])("button",Object(r["o"])({type:"submit"},{disabled:!a.validForm},{onClick:t[2]||(t[2]=Object(r["K"])((function(e){return a.newPassword({identifier:a.credentials.identifier,authString:a.credentials.authString,newPassword:a.credentials.newPassword})}),["prevent"]))})," New Password ",16)])])}var Ht=/^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{8,100}$/,Kt={name:"AuthVerify",setup:function(){var e=Object(o["c"])();document.title="New Password | Rusafe",C.a.get("jwt")&&Xt.push("/profile");var t=Object(r["z"])({identifier:e.params.identifier,authString:"",newPassword:""}),n=Object(r["z"])({error:null}),a=Object(c["b"])(Object(E["a"])(Jt||(Jt=Object(_["a"])(["\n        mutation newPassword(\n          $identifier: String!\n          $authString: String!\n          $newPassword: String!\n        ) {\n          forgotPassword(\n            identifier: $identifier\n            authString: $authString\n            newPassword: $newPassword\n          ) {\n            error\n            jwt\n          }\n        }\n      "]))),{update:function(e,t){t.data.forgotPassword.error?n.error=t.data.forgotPassword.error:(C.a.set("jwt",t.data.forgotPassword.jwt,{expires:365}),location.reload())}}),i=a.mutate,s=Object(r["b"])((function(){return""!=t.authString&&Ht.test(t.newPassword)}));return{credentials:t,newPassword:i,authDetails:n,validForm:s}}};n("4ab1");const Zt=v()(Kt,[["render",Ft]]);var Mt,Bt=Zt,Wt=[{path:"/",name:"Home",component:h},{path:"/login",name:"Login",component:A},{path:"/signup",name:"Signup",component:Y},{path:"/profile",name:"Profile",component:Re},{path:"/otp-verify/:identifier",name:"Otp Verify",component:Pt},{path:"/new-otp",name:"New Otp",component:_t},{path:"/forgot-password",name:"Forgot Password",component:At},{path:"/auth-verify/:identifier",name:"Auth Verify",component:Bt},{path:"/history",name:"History",component:nt},{path:"/pay",name:"Pay",component:Ot}],Qt=Object(o["a"])({history:Object(o["b"])("/"),routes:Wt}),Xt=Qt,Yt=Object(N["a"])({state:function(){return{user:null,isLoggedIn:!1,jwt:null}},mutations:{userLoggedIn:function(e,t){e.user=t,e.isLoggedIn=!0},userLoggedOut:function(e){e.user=null,e.isLoggedIn=!1}}}),en=Yt;function tn(e,t,n,a,i,c){var o=Object(r["C"])("router-view");return Object(r["x"])(),Object(r["d"])(o)}var nn={name:"App",setup:function(){var e=Object(N["b"])(),t=C.a.get("jwt");if(t){var n=Object(c["c"])(Object(E["a"])(Mt||(Mt=Object(_["a"])(["\n          query($jwt: String!) {\n            user(jwt: $jwt) {\n              _id\n              name\n              username\n              email\n              img\n              balance\n              phone\n              transactions {\n                _id\n                amount\n                category\n                party {\n                  _id\n                  name\n                  username\n                  email\n                }\n              }\n              error\n            }\n          }\n        "]))),{jwt:t}),a=n.result;Object(r["H"])(a,(function(){a.value.user.error?Xt.push("/"):(e.commit("userLoggedIn",a.value.user),Xt.push("/profile"))}))}else Xt.push("/")}};n("5689");const rn=v()(nn,[["render",tn]]);var an=rn,cn=new a["a"]({cache:new i["a"],uri:"https://resyfer-rusafe.herokuapp.com/graphql"}),on=Object(r["c"])({setup:function(){Object(r["y"])(c["a"],cn)},render:function(){return Object(r["l"])(an)}});on.use(Xt).use(en).mount("#app")},5847:function(e,t,n){"use strict";n("2d63")},"5ca2":function(e,t,n){},"722e":function(e,t,n){"use strict";n("1dc0")},7374:function(e,t,n){"use strict";n("d665")},8059:function(e,t,n){"use strict";n("3992")},"86c2":function(e,t,n){"use strict";n("3ecf")},"91e9":function(e,t,n){},b9c4:function(e,t,n){},bed4:function(e,t,n){"use strict";n("2dd8")},cd3c:function(e,t,n){},cf05:function(e,t,n){e.exports=n.p+"img/logo.452d7c60.png"},d665:function(e,t,n){},e397:function(e,t,n){},e768:function(e,t,n){"use strict";n("5ca2")},fd9b:function(e,t,n){"use strict";n("3830")}});
//# sourceMappingURL=app.cbf21f48.js.map